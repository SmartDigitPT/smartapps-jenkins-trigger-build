name: Trigger Jenkins (Reusable)

on:
  workflow_call:
    inputs:
      job:
        required: true
        type: string
      branch:
        required: false
        default: main
        type: string
      sha:
        required: false
        default: ''
        type: string
jobs:
  call-jenkins:
    runs-on: ubuntu-latest
    steps:
      - name: Trigger Jenkins build
        run: |
          curl -X POST \
            -u "${{ secrets.JENKINS_USER }}:${{ secrets.JENKINS_TOKEN }}" \
            "${{ secrets.JENKINS_URL }}/job/${{ inputs.job }}/build"
